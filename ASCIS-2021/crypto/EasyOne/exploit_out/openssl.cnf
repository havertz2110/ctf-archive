[ req ]
default_bits       = 2048
default_md         = sha256
prompt             = no
distinguished_name = req_dn
req_extensions     = v3_req
x509_extensions    = v3_ca

[ req_dn ]
C  = US
ST = CA
L  = SF
O  = Example
CN = default

[ v3_req ]
basicConstraints = CA:false
keyUsage = nonRepudiation, digitalSignature, keyEncipherment
subjectKeyIdentifier = hash

[ v3_ca ]
subjectKeyIdentifier=hash
authorityKeyIdentifier=keyid:always,issuer
basicConstraints=critical, CA:true
keyUsage=critical, digitalSignature, keyCertSign, cRLSign